<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validation Form</title>
    <style>
        
    </style>
</head>
<body>
    <div class="form-container">
        <h1>Student Regestration</h1>
        <div class="form-group">
            <label>Username:</label>
            <input id="username" type="text">
        </div>
        <br>
        <div class="form-group">
            <label>Password:</label>
            <input id="password" type="password">
        </div>
        <br>
        <div class="form-group">
            <label>Confirm Password:</label>
            <input id="password1" type="password">
        </div>
        <br>
        <div class="form-group">
            <label>Date Of Birth:</label>
            <input id="DOB" type="date">
        </div>
        <br>
        <div class="form-group">
            <label>Enrollment:</label>
            <input id="enrollment" type="text">
        </div>
        <br>
        <div class="form-group">
            <label>Email:</label>
            <input id="email" type="email">
        </div>
        <br>
        <div class="form-group">
            <button onclick="checkdata()" id="button" style="margin:10px;background-color: rgb(42, 122, 196); border-radius: 5px; border: 0;">Submit</button>
        </div>
        <br>
        <span id="errmsg"  class="error"></span>
    </div>
    <script>
        function calculateAge(dob) {
            let diffMs = Date.now() - dob.getTime();
            let ageDt = new Date(diffMs);
            return Math.abs(ageDt.getUTCFullYear() - 1970);
        }

        let age = calculateAge(new Date(dob));

        function checkdata(){
            let name = document.getElementById('username').value;
            let pass = document.getElementById('password').value;
            let pass1 = document.getElementById('password1').value;
            let dob = document.getElementById('DOB').value;
            let enroll = document.getElementById('enrollment').value;
            let email = document.getElementById('email').value;
            
            const passwordPattern = /^(?=.*\d)(?=.*[!@#$%^&*]).{8,12}$/;
            const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
          
            if (name.length < 8) {
                document.getElementById('username').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "Username must be at least 8 characters long";
            }
            else if (!passwordPattern.test(pass)) {
                document.getElementById('password').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "Password must be 8-12 characters long and contain at least 1 digit and 1 special character";
            }
            else if (pass !== pass1) {
                document.getElementById('password1').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "Passwords do not match";
            }
            else if (age < 18) {
                document.getElementById('DOB').style.borderColor = 'red';
                document.getElementById('errmsg').innerHTML = "You must be at least 18 years old";
            }
            else if (enroll.length !== 11 || isNaN(enroll)) {
                document.getElementById('').style.borderColor = 'red';
                errmsg.innerHTML = "Enrollment number must be 11 digits";
            }
            else if (!emailPattern.test(email)) {
                errmsg.innerHTML = "Invalid email address";
            }
            else if (errmsg.innerHTML === '') {
                alert('Login successful!');
            }
        }
    </script>
</body>
</html>
